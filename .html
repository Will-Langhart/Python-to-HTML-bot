<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friz AI Advanced & Integrated Code Snippet Builder</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
    <style>
        /* Dynamic background animation */
        body {
            background: linear-gradient(90deg, rgba(255, 0, 150, 1) 0%, rgba(0, 204, 255, 1) 100%);
            background-size: 200% 200%;
            animation: bgAnimation 10s infinite linear;
            transition: background-color 0.5s;
            font-family: Arial, sans-serif;
        }
        /* ... (other combined styles from both snippets) */
        /* Enhanced Dark Mode Transition */
        body.dark-mode {
            background-color: #121212;
            color: #fff;
            transition: background-color 0.5s, color 0.5s;
        }
        /* Enhanced Styling for Upload Button */
        #pythonUpload {
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
        }
    </style>
</head>

<body>

    <div id="AI-suggestions">AI Suggestions will appear here.</div>

    <!-- File Upload for Python -->
    <label for="pythonUpload">Upload Python File:</label>
    <input type="file" id="pythonUpload" accept=".py">
    <button onclick="convertPythonToHtml()">Compile</button>

    <!-- User Input Fields combined from both snippets -->
    <label for="codeInput">Enter Command:</label>
    <input type="text" id="codeInput" placeholder="Type 'build' to generate code" onkeyup="generateSnippet()">
    <hr>
    <select id="codeType">
        <option value="html">HTML</option>
        <option value="js">JavaScript</option>
        <option value="python">Python</option>
    </select>
    <textarea class="code-input html-class" id="htmlInput" placeholder="Enter HTML" rows="5"></textarea><br>
    <button onclick="downloadCode('html')">Save HTML to File</button>
    <textarea class="code-input js-class" id="jsInput" placeholder="Enter JavaScript" rows="5"></textarea><br>
    <button onclick="downloadCode('js')">Save JS to File</button>

    <!-- Buttons for Compilation -->
    <button onclick="compileCode()">Compile</button>
    <button id="downloadBtn" disabled>Download All</button>
    <button onclick="resetCode()">Reset</button>

    <!-- Dynamic Webpage Container -->
    <iframe id="dynamicWebpage" style="width:100%; height:50vh;"></iframe>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script>
        function convertPythonToHtml() {
            let pythonFile = document.getElementById('pythonUpload').files[0];
            if (pythonFile) {
                let reader = new FileReader();
                reader.readAsText(pythonFile, 'UTF-8');
                reader.onload = function (evt) {
                    let pythonCode = evt.target.result;
                    let convertedHtml = pythonCodeToHtmlPlaceholder(pythonCode);
                    // Insert the compiled Python into the prebuilt HTML structure
                    let formattedHtml = `
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style></style>
    <script></script>
</head>
<body>
${convertedHtml}
</body>
</html>                   
';
<html
                    document.getElementById('htmlInput').value += formattedHtml;
                }
                reader.onerror = function (evt) {
                    console.error("Error reading the Python file");
                }
            }
        }

        function pythonCodeToHtmlPlaceholder(pythonCode) {
            return `<div>${pythonCode}</div>`;
        }

        function generateSnippet() {
            let userInput = document.getElementById('codeInput').value;
            if (userInput === 'build') {
  document.getElementById('htmlInput').textContent = 
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic HTML</title>
</head>
<body>
    <h1>Welcome to Basic HTML</h1>
<body>
<html>
                `;
                window.open('https://www.frizonai.com', '_blank');
            }
        }

        function aiSuggestions(type, code) {
            let suggestions = "AI Suggestions: ";
            if (type === 'html' && !code.includes('<head>')) {
                suggestions += "Consider adding a <head> section. ";
            }
            if (type === 'python') {
                suggestions += "Python code detected. Ensure to have appropriate HTML tags.";
            }
            document.getElementById('AI-suggestions').innerHTML = suggestions;
        }

        function compileCode() {
            const html = document.getElementById('htmlInput').value;
            const js = document.getElementById('jsInput').value;
            const iframe = document.getElementById('dynamicWebpage');
            const doc = iframe.contentWindow.document;
            doc.open();
            doc.write(`<html><body>${html}<script>${js}<\/script></body></html>`);
            doc.close();
            document.getElementById('downloadBtn').disabled = false;
        }

        function resetCode() {
            ['htmlInput', 'jsInput'].forEach(id => {
                document.getElementById(id).value = '';
            });
            document.getElementById('dynamicWebpage').src = 'about:blank';
        }

        function downloadCode(type) {
            const content = document.getElementById(`${type}Input`).value;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `code.${type}`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
              </html>

</html>
